(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-23267d29"],{"0331":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var s=n("6917"),r=n("afbc"),o=n("7a23"),a=function(){function e(){this.usuarioLogueado=new s["a"],this.showModal=Object(o["n"])("showModal",(function(e){}))}return e.prototype.handlerErrorRequest=function(){},e.prototype.handlerErrorResponse=function(e){403===e&&(this.showModal("Su sesión en el sistema ha expirado"),this.usuarioLogueado.logout(),r["a"].push({name:"Home"}))},e}()},3409:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var s=n("afbc"),r=n("9498"),o=function(){function e(){}return e.prototype.redirectToPrincipal=function(e){switch(e){case r["a"]:s["a"].push({name:"Usuarios"});break;case r["b"]:s["a"].push({name:"MisEncuestas"});break;default:break}},e}()},"38d0":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var s=n("9ab4"),r=n("c8c8"),o=n("0331"),a=n("8655"),i=function(){function e(){this.api=new r["a"],this.serviceResponse=new a["a"],this.errorHandler=new o["a"]}return e.prototype.validar=function(e){return Object(s["a"])(this,void 0,Promise,(function(){var e;return Object(s["b"])(this,(function(t){try{if(e={data:{autorizado:!0},responseCode:0,responseMessage:"ÉXITO"},this.serviceResponse.data=e["data"],this.serviceResponse.responseCode=e["responseCode"],this.serviceResponse.responseMessage=e["responseMessage"],this.serviceResponse.exito())return[2,this.serviceResponse.data["autorizado"]]}catch(n){n.response?this.errorHandler.handlerErrorResponse(n.response.status):n.request&&this.errorHandler.handlerErrorRequest()}return[2,!1]}))}))},e}()},"3a5e":function(e,t,n){"use strict";var s=n("7a23"),r={class:"o-loading-container"},o={class:"o-loading-container__gif"};function a(e,t,n,a,i,c){return Object(s["v"])(),Object(s["g"])("div",r,[Object(s["h"])("div",o,[Object(s["h"])("div",null,Object(s["F"])(e.message),1)])])}var i=Object(s["k"])({props:{message:{type:String,default:"Cargando..."}},setup:function(){}}),c=n("6b0d"),u=n.n(c);const d=u()(i,[["render",a]]);t["a"]=d},"4e27":function(e,t,n){"use strict";n.r(t);var s=n("7a23"),r={class:"o-recopilar-respuestas-container"},o=Object(s["h"])("div",{class:"a-title"},"Recopilar respuestas",-1),a={class:"a-title--sm"},i=Object(s["h"])("br",null,null,-1),c={class:"m-card"},u=Object(s["h"])("div",{class:"m-card__header"},[Object(s["h"])("div",{class:"a-title--sm u-color-success"},"Enlace web de tu encuesta"),Object(s["h"])("label",null,"Copia y envía por email este enlace a tus encuestados")],-1),d={class:"m-card__body"},E={class:"o-url-encuesta-container"},l={class:"a-btn a-btn--success"};function p(e,t,n,p,h,O){var b=Object(s["B"])("Loading"),f=Object(s["B"])("Alert"),_=Object(s["C"])("clipboard");return Object(s["v"])(),Object(s["g"])("div",null,[e.successData?Object(s["f"])("",!0):(Object(s["v"])(),Object(s["e"])(b,{key:0})),Object(s["h"])("div",r,[o,Object(s["h"])("div",a,Object(s["F"])(e.nombreEncuesta),1),i,Object(s["h"])("div",c,[u,Object(s["h"])("div",d,[Object(s["h"])("div",E,[Object(s["P"])(Object(s["h"])("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.linkEncuesta=t}),readonly:""},null,512),[[s["L"],e.linkEncuesta]]),Object(s["P"])((Object(s["v"])(),Object(s["g"])("button",l,[Object(s["i"])(" copiar ")])),[[_,e.linkEncuesta,"copy"],[_,e.onSuccess,"success"],[_,e.onError,"error"]])]),e.messageLinkCopy?(Object(s["v"])(),Object(s["e"])(f,{key:0,type:"success",message:e.messageLinkCopy},null,8,["message"])):Object(s["f"])("",!0)])])])])}var h=n("9ab4"),O=n("98ab"),b=n("f356"),f=n("6917"),_=n("6c02"),v=n("a504"),A=n("3409"),R=n("38d0"),C=n("3a5e"),I=Object(s["k"])({components:{Alert:O["a"],Loading:C["a"]},setup:function(){var e=this,t=Object(s["y"])(""),n=new A["a"],r=new f["a"],o=new R["a"];Object(s["t"])((function(){return Object(h["a"])(e,void 0,void 0,(function(){var e,s,c;return Object(h["b"])(this,(function(E){switch(E.label){case 0:return t.value=String(a.params.id),e={encuestaId:t.value,psicologoId:String(r.usuarioId)},[4,o.validar(e)];case 1:return s=E.sent(),s?0!==r.idEncuesta&&r.idEncuesta===parseInt(t.value)?[3,3]:[4,l()]:(n.redirectToPrincipal(r.rolId),[2]);case 2:return E.sent(),[3,4];case 3:c=r.nombreEncuestaUrl,u.value=r.nombreEncuesta,i.value=window.location.host+"/introduccion-encuesta/"+c,d.value=!0,E.label=4;case 4:return[2]}}))}))}));var a=Object(_["c"])(),i=Object(s["y"])(""),c=Object(s["y"])(""),u=Object(s["y"])(""),d=Object(s["y"])(!1),E=new b["a"];function l(){return Object(h["a"])(this,void 0,Promise,(function(){var e,n,s,o,a;return Object(h["b"])(this,(function(c){switch(c.label){case 0:return e={idEncuesta:t.value,idPsicologo:String(r.usuarioId),limit:"1",pag:"1"},[4,E.obtener(e)];case 1:return n=c.sent(),n.exito()&&(s=n.data["encuestas"][0],o=new v["a"],o.idEncuesta=s["idEncuesta"],o.nombreEncuesta=s["nombreEncuesta"],r.setIdEncuesta(o.idEncuesta),r.setNombreEncuesta(o.nombreEncuesta),a=o.nombreEncuesta.split(" ").join("-").toLowerCase(),u.value=o.nombreEncuesta,i.value=window.location.host+"/introduccion-encuesta/"+a,d.value=!0),[2]}}))}))}var p=function(){c.value="Enlace de encuesta copiado"},O=function(){};return{messageLinkCopy:c,onSuccess:p,onError:O,linkEncuesta:i,nombreEncuesta:u,successData:d}}}),N=n("6b0d"),P=n.n(N);const g=P()(I,[["render",p]]);t["default"]=g},8655:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var s=0,r=-1,o=(new Map([[-2,"FALTAN_DATOS_DE_ENTRADA"],[1,"PSICOLOGO_TIENE_IDENTIFICAR_INCORRECTO"],[2,"ENCUESTA_EXISTENTE"],[3,"ENCUESTA_NO_EXISTE"],[4,"ENCUESTA_NO_SE_PUEDE_ELIMINAR_PORQUE_HA_INICIADO"],[5,"PSICOLOGO_YA_CUENTA_CON_DICHA_ENCUESTA"],[6,"PAGINA_SOLO_ENTRE_1_Y_3"],[7,"PREGUNTA_TIENE_TIPO_INVALIDO"],[8,"PREGUNTA_NO_EXISTE"],[9,"PREGUNTA_NO_SE_PUEDE_MODIFICAR_PORQUE_ENCUESTA_HA_INICIADO"],[10,"PREGUNTA_NO_SE_PUEDE_AGREGAR_PORQUE_ENCUESTA_HA_INICIADO"],[11,"ALTERNATIVA_NO_SE_PUEDE_MODIFICAR_PORQUE_ENCUESTA_HA_INICIADO"],[12,"ALTERNATIVA_NO_EXISTE"],[13,"ENCUESTA_SOLO_PUEDE_SER_ELIMINADA_POR_PSICOLOGO_CREADOR"],[14,"PSICOLOGO_NO_PUEDE_DUPLICAR_ENCUESTA"],[15,"ENCUESTA_SOLO_PUEDE_SER_COMPARTIDA_POR_PSICOLOGO_CREADOR"],[16,"PSICOLOGO_NO_PUEDE_CREAR_PREGUNTAS_EN_DICHA_ENCUESTA"],[17,"PREGUNTA_EXISTENTE_EN_DICHA_ENCUESTA"],[18,"ALTERNATIVA_NO_SE_PUEDE_REPETIR"],[19,"PSICOLOGO_NO_PUEDE_mMODIFICAR_PREGUNTAS_EN_DICHA_ENCUESTA"],[51,"CREDENCIALES_INCORRECTAS"]]),n("6c02")),a=function(){function e(){this.router=Object(o["d"])(),this.data=null,this.responseCode=-999,this.responseMessage=""}return e.prototype.exito=function(){return this.errorGeneral()?(this.router.push({name:"ErrorGeneral"}),!1):this.responseCode===s},e.prototype.errorGeneral=function(){return this.responseCode===r},e.prototype.errorResponse=function(){return this.responseCode!==s},e}()},"9ab4":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return r}));function s(e,t,n,s){function r(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function a(e){try{c(s.next(e))}catch(t){o(t)}}function i(e){try{c(s["throw"](e))}catch(t){o(t)}}function c(e){e.done?n(e.value):r(e.value).then(a,i)}c((s=s.apply(e,t||[])).next())}))}function r(e,t){var n,s,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(e){return function(t){return c([e,t])}}function c(o){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,s&&(r=2&o[0]?s["return"]:o[0]?s["throw"]||((r=s["return"])&&r.call(s),0):s.next)&&!(r=r.call(s,o[1])).done)return r;switch(s=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,s=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(r=a.trys,!(r=r.length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(i){o=[6,i],s=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}},a504:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var s=n("6917"),r=3,o=4,a="ACTIVA",i="CERRADA",c=function(){function e(){this.idEncuesta=0,this.nombreEncuesta="",this.idPsicologo=0,this.idEstadoEncuesta=0,this.visitas=0,this.idRol=0,this.rolDescripcion="",this.nombrePsicologo="",this.usuarioLogueado=new s["a"]}return e.prototype.usuarioPuedeCompartir=function(){return this.usuarioLogueado.usuarioId===this.idPsicologo},e.prototype.usuarioPuedeEliminar=function(){return this.usuarioLogueado.usuarioId===this.idPsicologo},e.prototype.encuestaNoEstaCerrada=function(){return this.idEstadoEncuesta!==o},e.prototype.estadoEncuesta=function(){return this.idEstadoEncuesta===r?a:this.idEstadoEncuesta===o?i:""},e.prototype.iconoEstado=function(){return this.idEstadoEncuesta===r?"fas fa-user-edit":this.idEstadoEncuesta===o?"fas fa-lock":""},e}()},c8c8:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var s=n("6917"),r=n("7a23"),o=function(){function e(){this.baseUrl="",this.usuarioLogueado=new s["a"],this.baseUrl=Object(r["n"])("$baseUrlApi","")}return e.prototype.getBaseUrl=function(){return this.baseUrl},e.prototype.getAuthorization=function(){var e=this.usuarioLogueado.token,t={headers:{Authorization:"Bearer "+e}};return t},e}()},f356:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var s=n("9ab4"),r=n("c8c8"),o=n("8655"),a=n("0331"),i=function(){function e(){this.api=new r["a"],this.serviceResponse=new o["a"],this.errorHandler=new a["a"]}return e.prototype.obtener=function(e){return Object(s["a"])(this,void 0,Promise,(function(){var e;return Object(s["b"])(this,(function(t){try{return e={data:{encuestas:[{idEncuesta:2,nombreEncuesta:"ENCUESTA 2",idPsicologo:3,idEstadoEncuesta:3,visitas:0,usuarioPsicologo:"psicologo2",idRol:2,rolDescripcion:"PSICOLOGO",nombrePsicologo:"MARCO JUAREZ SANTOS"}]},responseCode:0,responseMessage:"ÉXITO"},this.serviceResponse.data=e["data"],this.serviceResponse.responseCode=e["responseCode"],this.serviceResponse.responseMessage=e["responseMessage"],[2,this.serviceResponse]}catch(n){n.response?this.errorHandler.handlerErrorResponse(n.response.status):n.request&&this.errorHandler.handlerErrorRequest()}return[2,this.serviceResponse]}))}))},e.prototype.obtenerParaEncuestado=function(e){return Object(s["a"])(this,void 0,Promise,(function(){var e;return Object(s["b"])(this,(function(t){try{return e={data:{encuestas:[{idEncuesta:2,nombreEncuesta:"ENCUESTA 2",idPsicologo:3,idEstadoEncuesta:3,visitas:0,usuarioPsicologo:"psicologo2",idRol:2,rolDescripcion:"PSICOLOGO",nombrePsicologo:"MARCO JUAREZ SANTOS"}]},responseCode:0,responseMessage:"ÉXITO"},this.serviceResponse.data=e["data"],this.serviceResponse.responseCode=e["responseCode"],this.serviceResponse.responseMessage=e["responseMessage"],[2,this.serviceResponse]}catch(n){n.response?this.errorHandler.handlerErrorResponse(n.response.status):n.request&&this.errorHandler.handlerErrorRequest()}return[2,this.serviceResponse]}))}))},e}()}}]);
//# sourceMappingURL=chunk-23267d29.f889affa.js.map